<!DOCTYPE html>
{%extends 'layouts/base.html'%}
{% load static %}

{%block title%} Serum Bank OUCRU app {%endblock%}

<html>
    <head>
      {% block javascript %}
      <script type="text/javascript" src="{% static 'bootstrap/js/bootstrap.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/import_data.js' %}"></script>
      {% endblock %}
        <title>
            Excel file upload and processing : Modify and Export to DB
        </title>
    </head>
    <body>
      {%block content%}
      <div class=text-center>  <h1>What do you want to import ?</h1></div>
      <form action="">
  			<fieldset>
            <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="serums" id="serums" value="serums" onclick="test(this,this.id)">
            <label class="form-check-label" for="serums">Sera</label>
            </div>
            <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="location" id="location" value="location" onclick="test(this,this.id)">
            <label class="form-check-label" for="location">Sera location in Freezers</label>
            </div>
            <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="results" id="results" value="results" onclick="test(this,this.id)">
            <label class="form-check-label" for="results">Results</label>
            <fieldset class="conditional">
              <!-- display results table content : disease_name - test_name -->
              <!-- choose among the different combinaison -->
              <div class="form-row align-items-center">
              <div class="col-auto my-1">
              <label class="mr-sm-2" for="inlineFormCustomSelect">Disease - Test</label>
              <select class="custom-select mr-sm-2" id="inlineFormCustomSelect">
              <option selected>Choose...</option>
              <option value="1">Chikungunya - Elisa</option>
              <option value="2">Chikungunya - PMA</option>
              <option value="3">Dengue - Elisa</option>
              <option value="4">Dengue - PMA</option>
              <option value="5">Malaria - Elisa</option>
              <option value="6">Malaria - PMA</option>
              <option value="7">Influenza - Elisa</option>
              </select>
              </div>
              </div>
  					</fieldset>
            </div>
            <div class="text-center">
              <input type="submit"
              value="Confirm"
              style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;">
            </div>
  			</fieldset>
  		</form>

        <form action="{% url "sboapp:import_data" %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="file"
                   title="Upload excel file"
                   name="excel_file"
                   style="border: 1px solid black; padding: 5px;"
                   required="required">

            <p>

            <div class="text-center">
            <input type="submit"
                   value="Upload"
                   style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;">
            </div>

        </form>

        <hr>
        {% for row in excel_data %}
            {% for cell in row %}
                {{ cell }}&nbsp;&nbsp;
            {% endfor %}
            <br>
        {% endfor %}
        <hr>
        {% for warn in warning %}
          {{warn}}
        {% endfor %}

        <div class="text-center">
          <input type="submit"
          value="Modify"
          style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;">
          <!-- add modification function here -->
          <input type="submit"
          value="Import to Database"
          style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;">
        </div>
        <!-- add importation to db here -->
    </body>
</html>
{%endblock content%}
