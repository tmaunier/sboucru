{%extends 'layouts/base.html'%}
{% load static %}

<head>
{% block styles %}
<style>
* {box-sizing: border-box}
body {font-family: "Lato", sans-serif;}

/* Style the tab */
.tab {
    float: left;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
    width: 20%;
    height: 300px;
}

/* Style the buttons inside the tab */
.tab button {
    display: block;
    background-color: inherit;
    color: black;
    padding: 22px 16px;
    width: 100%;
    border: none;
    outline: none;
    text-align: left;
    cursor: pointer;
    transition: 0.3s;
    font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
    background-color: #ddd;
}

/* Create an active/current "tab button" class */
.tab button.active {
    background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
    float: left;
    padding: 0px 12px;
    border: 1px solid #ccc;
    background-color: #f2f2f2;
    width: 80%;
    border-left: none;
    height: 300px;
}
</style>
{% endblock %}
{% block javascript %}
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable([
  ['Site', 'elements'],
  ['W', ],
  ['Eat', 2],
  ['TV', 4],
  ['Gym', 2],
  ['Sleep', 8]
]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'My Average Day', 'width':550, 'height':400};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data, options);
}
</script>
{% endblock %}
</head>
{%block content%}
<body>


<div class="tab">
  <button class="tablinks" onclick="openTabs(event, 'Welcome')" id="defaultOpen">Welcome</button>
  <button class="tablinks" onclick="openTabs(event, 'Import')">Import Data</button>
  <button class="tablinks" onclick="openTabs(event, 'Export')">Data Manager (Export)</button>
  <button class="tablinks" onclick="openTabs(event, 'Tables')">Tables</button>
</div>

<div id="Welcome" class="tabcontent">
  <p>{{ staff.as_p }}</p>
  <h3>Welcome</h3>
  <p>Here are the news & the latest importations.</p>
  <br>
  <div class="text-center">
  <h2>Statistics : </h2>
  <ul>
    <li>How many serums in the bank ?</li>
    <li>How many serums for each year ?</li>
    <li>How many serums for each site ?</li>
  </ul>
  </div>
  <br>
  <p>Note : add an update button to avoid loading of the query each time you go through the welcome page</p>
  <div id="piechart"></div>
</div>

<div id="Import" class="tabcontent">
  <h3>Import Data</h3>
  <p>What do you want to import ?</p>
  <a href="import_serum">Import Serum</a> <br>
  <a href="import_location">Import Serum's location</a> <br>
  <a href="import_elisa_choices">Import Elisa results</a> <br>
</div>

<div id="Export" class="tabcontent">
  <h3>Data Manager</h3>
  <p>Serum location modification function</p>
  <p>Filter Data</p>
  <p>Display Data</p>
  <p>Export Data</p>
  <a href="query">Make a Query</a>
</div>

<div id="Tables" class="tabcontent">
  <h3>Tables</h3>
  <p>Display Tables</p>
  <p>Fixed tables : Site, Ward</p>
  <p>Linked tables (samples) : Serum, Freezer</p>
  <a href = "tables">Display Tables</a>
</div>

<script>
function openTabs(evt, tabsName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabsName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>

{%endblock content%}
</body>
