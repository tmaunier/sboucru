<!DOCTYPE html>
{%extends 'layouts/base.html'%}
{% load static %}
{% load range %}
{%block title%} Serum Bank OUCRU app {%endblock%}

<html>
    <head>
      {% block javascript %}
      <script type="text/javascript" src="{% static 'bootstrap/js/bootstrap.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/import_data.js' %}"></script>
      <link rel="stylesheet" href="{% static 'css/import.css' %}">
      <link rel="stylesheet" href="{% static 'css/table.css' %}">
      <link rel="stylesheet" href="{% static 'css/styles.css' %}">
      {% endblock %}
        <title>
            Import Serum
        </title>
    </head>
    <body>
      {%block content%}
      <div class=text-center>  <h2>Serum Import page</h2> <br>
        <h1>Please, select a serum file</h1>
        <br>
      </div>
      <form action="" method="post" enctype="multipart/form-data">
        <table>
          {{form.as_table}}
        </table>
        {% csrf_token %}
        <br>
        <div class="text-center">
          <input type="submit"
          value="Upload"
          style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;">
        </div>
        <br>
          <fieldset>
            <div class="text-center">
              <h1>Errors Report </h1>
            </div>
          <br>
          {{headings_error}}
          <br>
          {{sample_exist_warning}}
          <br>
          {{sample_exist}}
          <br>
          <br>
          {{site_exist_warning}}
          <br>
          {{site_exist}}
          <br>
          <br>
          {{ward_exist_warning}}
          <br>
          {{ward_exist}}
          <br>
          </fieldset>
          <fieldset>
            <div class="text-center">
              <h1>Data imported</h1>
              {{success}}
            </div>
            <table class="data-table">
          		<thead>
          			  <th>local_sample_id</th>
          				<th>site_id</th>
          				<th>coll_num</th>
          				<th>sample_id</th>
                  <th>birth_year</th>
          				<th>age</th>
          				<th>age_min</th>
          				<th>age_max</th>
          				<th>gender</th>
          				<th>coll_date</th>
          				<th>day</th>
          				<th>month</th>
          				<th>year</th>
          				<th>ward_id</th>
          			</tr>
          		</thead>
          		<tbody>
                {% for row in db_list %}
                  {% if forloop.first == False %}
                  <!-- Headers are not displayed -->
              		  <tr>
                      {% for value in row %}
                          <td>{{ value }}</td>
                      {% endfor %}
                    </tr>
                  {% endif %}
                {% endfor %}
          		</tbody>
          	</table>
          </fieldset>
      </form>
      {{warning}}
      {%endblock content%}
    </body>
</html>
